<!DOCTYPE html>
<html>
    <body>
        <h1>Prosema de JavaScript con AJAX</h1>
        <h2>Utilizamos una promesa normal de JAvaScript con then()</h2>

        <p id="demo"></p>

        <script>
            function myDisplayer(some) {
                document.getElementById("demo").innerHTML = some;
            }

            let myPromise = new Promise(function(myResolve, myReject) {
                // Realizo la petición
                let req = new XMLHttpRequest();

                // Indico el método y el fichero, 
                req.open('GET', "hola.html");

                // Funcion que se va a ejecutar
                req.onload = function() {
                    if (req.status == 200) {
                    myResolve(req.response);
                    } else {
                    myReject("No se encuentra el fichero");
                    }
                };
                req.send();
            });

            myPromise.then(
                function(value) {myDisplayer(value);},
                function(error) {myDisplayer(error);}
            );
        </script>

    </body>
</html>